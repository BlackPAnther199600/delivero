{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\luca0\\\\Desktop\\\\delivero\\\\mobile\\\\screens\\\\admin\\\\AdminDashboardScreen.js\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport axios from 'axios';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { io } from 'socket.io-client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet MapView = null;\nlet MapMarker = null;\nif (Platform.OS !== 'web') {\n  try {\n    MapView = require('react-native-maps').default;\n    MapMarker = require('react-native-maps').Marker;\n  } catch (e) {\n    MapView = null;\n    MapMarker = null;\n  }\n}\nconst API_URL = 'http://192.168.1.5:5000/api';\nconst AdminDashboardScreen = ({\n  navigation,\n  route\n}) => {\n  const [activeTab, setActiveTab] = useState('stats');\n  const [loading, setLoading] = useState(false);\n  const [stats, setStats] = useState(null);\n  const [finance, setFinance] = useState(null);\n  const [metrics, setMetrics] = useState(null);\n  const [users, setUsers] = useState([]);\n  const [tickets, setTickets] = useState([]);\n  const [userRole, setUserRole] = useState('');\n  const [token, setToken] = useState(null);\n  useEffect(() => {\n    const initToken = async () => {\n      let tokenValue = route.params?.token;\n      if (!tokenValue) {\n        tokenValue = await AsyncStorage.getItem('token');\n      }\n      setToken(tokenValue);\n      if (tokenValue) {\n        loadAllData(tokenValue);\n      }\n    };\n    initToken();\n  }, []);\n  const [activeOrders, setActiveOrders] = useState([]);\n  const [selectedOrderMarker, setSelectedOrderMarker] = useState(null);\n  const [socket, setSocket] = useState(null);\n  const loadActiveOrders = async () => {\n    try {\n      setLoading(true);\n      const headers = {\n        Authorization: `Bearer ${token}`\n      };\n      const response = await axios.get(`${API_URL}/orders/active/all`, {\n        headers\n      });\n      setActiveOrders(response.data || []);\n    } catch (error) {\n      Alert.alert('Error', 'Failed to load active orders');\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    if (!token) return;\n    try {\n      const s = io(API_URL.replace('/api', ''), {\n        auth: {\n          token\n        },\n        transports: ['websocket']\n      });\n      setSocket(s);\n      s.on('connect', () => {\n        s.emit('joinManagerRoom');\n      });\n      s.on('activeOrderUpdate', data => {\n        setActiveOrders(prev => {\n          const idx = prev.findIndex(o => o.id === data.orderId);\n          const update = {\n            id: data.orderId,\n            rider_latitude: data.latitude,\n            rider_longitude: data.longitude,\n            status: data.status || 'in_transit',\n            total_amount: data.total_amount || prev[idx] && prev[idx].total_amount || 0,\n            rider_name: data.rider_name || prev[idx] && prev[idx].rider_name || null\n          };\n          if (idx === -1) return [update, ...prev];\n          const copy = [...prev];\n          copy[idx] = Object.assign({}, copy[idx], update);\n          return copy;\n        });\n      });\n      return () => {\n        s.disconnect();\n      };\n    } catch (e) {}\n  }, [token]);\n  const loadAllData = async authToken => {\n    try {\n      setLoading(true);\n      const headers = {\n        Authorization: `Bearer ${authToken}`\n      };\n      const [statsRes, financeRes, metricsRes] = await Promise.all([axios.get(`${API_URL}/admin/stats`, {\n        headers\n      }), axios.get(`${API_URL}/admin/finance`, {\n        headers\n      }), axios.get(`${API_URL}/admin/metrics`, {\n        headers\n      })]);\n      setStats(statsRes.data);\n      setFinance(financeRes.data);\n      setMetrics(metricsRes.data);\n    } catch (error) {\n      Alert.alert('Error', error.response?.data?.message || 'Failed to load data');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const loadUsers = async () => {\n    try {\n      setLoading(true);\n      const headers = {\n        Authorization: `Bearer ${token}`\n      };\n      const response = await axios.get(`${API_URL}/admin/users`, {\n        headers\n      });\n      setUsers(response.data);\n    } catch (error) {\n      Alert.alert('Error', 'Failed to load users');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const loadTickets = async () => {\n    try {\n      setLoading(true);\n      const headers = {\n        Authorization: `Bearer ${token}`\n      };\n      const response = await axios.get(`${API_URL}/tickets/admin`, {\n        headers\n      });\n      setTickets(response.data);\n    } catch (error) {\n      Alert.alert('Error', 'Failed to load tickets');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleTabChange = tab => {\n    setActiveTab(tab);\n    if (tab === 'users' && users.length === 0) loadUsers();\n    if (tab === 'tickets' && tickets.length === 0) loadTickets();\n  };\n  const handleDeleteUser = async userId => {\n    Alert.alert('Confirm', 'Are you sure?', [{\n      text: 'Cancel'\n    }, {\n      text: 'Delete',\n      onPress: async () => {\n        try {\n          const headers = {\n            Authorization: `Bearer ${token}`\n          };\n          await axios.delete(`${API_URL}/admin/users/${userId}`, {\n            headers\n          });\n          Alert.alert('Success', 'User deleted');\n          loadUsers();\n        } catch (error) {\n          Alert.alert('Error', 'Failed to delete user');\n        }\n      }\n    }]);\n  };\n  if (loading && !stats) {\n    return _jsxDEV(View, {\n      style: styles.centerContainer,\n      children: _jsxDEV(ActivityIndicator, {\n        size: \"large\",\n        color: \"#FF6B00\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this);\n  }\n  const StatCard = ({\n    title,\n    value,\n    subtitle\n  }) => _jsxDEV(View, {\n    style: styles.statCard,\n    children: [_jsxDEV(Text, {\n      style: styles.statValue,\n      children: value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this), _jsxDEV(Text, {\n      style: styles.statLabel,\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this), subtitle && _jsxDEV(Text, {\n      style: styles.statSubtitle,\n      children: subtitle\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 20\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 5\n  }, this);\n  const TabButton = ({\n    tab,\n    label,\n    icon\n  }) => _jsxDEV(TouchableOpacity, {\n    style: [styles.tabButton, activeTab === tab && styles.tabButtonActive],\n    onPress: () => handleTabChange(tab),\n    children: _jsxDEV(Text, {\n      style: [styles.tabButtonText, activeTab === tab && styles.tabButtonTextActive],\n      children: [icon, \" \", label]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 197,\n    columnNumber: 5\n  }, this);\n  const UserItem = ({\n    item\n  }) => _jsxDEV(View, {\n    style: styles.userItem,\n    children: [_jsxDEV(View, {\n      style: styles.userInfo,\n      children: [_jsxDEV(Text, {\n        style: styles.userName,\n        children: item.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), _jsxDEV(Text, {\n        style: styles.userEmail,\n        children: item.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this), _jsxDEV(Text, {\n        style: styles.userRole,\n        children: item.role\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this), _jsxDEV(TouchableOpacity, {\n      style: styles.deleteButton,\n      onPress: () => handleDeleteUser(item.id),\n      children: _jsxDEV(Text, {\n        style: styles.deleteButtonText,\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 208,\n    columnNumber: 5\n  }, this);\n  const TicketItem = ({\n    item\n  }) => _jsxDEV(View, {\n    style: styles.ticketItem,\n    children: [_jsxDEV(View, {\n      style: {\n        flex: 1\n      },\n      children: [_jsxDEV(Text, {\n        style: styles.ticketTitle,\n        children: item.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this), _jsxDEV(Text, {\n        style: styles.ticketType,\n        children: [item.type, \" \\u2022 \", item.priority]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this), _jsxDEV(Text, {\n        style: styles.ticketDate,\n        children: new Date(item.created_at).toLocaleDateString()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: [styles.ticketStatus, {\n        backgroundColor: item.status === 'open' ? '#ff9800' : '#4caf50'\n      }],\n      children: _jsxDEV(Text, {\n        style: styles.ticketStatusText,\n        children: item.status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 221,\n    columnNumber: 5\n  }, this);\n  return _jsxDEV(ScrollView, {\n    style: styles.container,\n    children: [_jsxDEV(View, {\n      style: styles.header,\n      children: [_jsxDEV(Text, {\n        style: styles.headerTitle,\n        children: \"\\u2699\\uFE0F Admin Panel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this), _jsxDEV(Text, {\n        style: styles.headerSubtitle,\n        children: \"System Management\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this), _jsxDEV(ScrollView, {\n      horizontal: true,\n      showsHorizontalScrollIndicator: false,\n      style: styles.tabsScroll,\n      children: [_jsxDEV(TabButton, {\n        tab: \"stats\",\n        label: \"Stats\",\n        icon: \"\\uD83D\\uDCCA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this), _jsxDEV(TabButton, {\n        tab: \"finance\",\n        label: \"Finance\",\n        icon: \"\\uD83D\\uDCB0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this), _jsxDEV(TabButton, {\n        tab: \"metrics\",\n        label: \"Metrics\",\n        icon: \"\\uD83D\\uDCC8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this), _jsxDEV(TabButton, {\n        tab: \"users\",\n        label: \"Users\",\n        icon: \"\\uD83D\\uDC65\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this), _jsxDEV(TabButton, {\n        tab: \"tickets\",\n        label: \"Tickets\",\n        icon: \"\\uD83C\\uDFAB\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this), _jsxDEV(TabButton, {\n        tab: \"tracking\",\n        label: \"Tracking\",\n        icon: \"\\uD83D\\uDDFA\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }, this), activeTab === 'stats' && stats && _jsxDEV(View, {\n      style: styles.content,\n      children: [_jsxDEV(View, {\n        style: styles.statsGrid,\n        children: [_jsxDEV(StatCard, {\n          title: \"Users\",\n          value: stats.totalUsers\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }, this), _jsxDEV(StatCard, {\n          title: \"Orders\",\n          value: stats.totalOrders\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 11\n      }, this), _jsxDEV(View, {\n        style: styles.statsGrid,\n        children: _jsxDEV(StatCard, {\n          title: \"Total Revenue\",\n          value: `‚Ç¨${stats.totalRevenue?.toFixed(2)}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 11\n      }, this), _jsxDEV(Text, {\n        style: styles.sectionTitle,\n        children: \"Recent Orders\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 11\n      }, this), stats.recentOrders?.map(order => _jsxDEV(View, {\n        style: styles.orderItem,\n        children: [_jsxDEV(View, {\n          children: [_jsxDEV(Text, {\n            style: styles.orderCustomer,\n            children: order.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 17\n          }, this), _jsxDEV(Text, {\n            style: styles.orderStatus,\n            children: order.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 15\n        }, this), _jsxDEV(Text, {\n          style: styles.orderAmount,\n          children: [\"\\u20AC\", order.total_amount]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 15\n        }, this)]\n      }, order.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 9\n    }, this), activeTab === 'finance' && finance && _jsxDEV(View, {\n      style: styles.content,\n      children: [_jsxDEV(View, {\n        style: styles.statsGrid,\n        children: [_jsxDEV(StatCard, {\n          title: \"Revenue\",\n          value: `‚Ç¨${finance.totalRevenue?.toFixed(2)}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 13\n        }, this), _jsxDEV(StatCard, {\n          title: \"Bill Payments\",\n          value: finance.billPayments?.total\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 11\n      }, this), _jsxDEV(View, {\n        style: styles.statsGrid,\n        children: _jsxDEV(StatCard, {\n          title: \"Bills Total\",\n          value: `‚Ç¨${finance.billPayments?.amount?.toFixed(2)}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 11\n      }, this), _jsxDEV(Text, {\n        style: styles.sectionTitle,\n        children: \"Payment Methods\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 11\n      }, this), finance.paymentMethods?.map((pm, idx) => _jsxDEV(View, {\n        style: styles.paymentItem,\n        children: [_jsxDEV(Text, {\n          style: styles.paymentMethod,\n          children: pm.payment_method\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 15\n        }, this), _jsxDEV(Text, {\n          style: styles.paymentAmount,\n          children: [\"\\u20AC\", pm.total?.toFixed(2), \" (\", pm.count, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 15\n        }, this)]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 9\n    }, this), activeTab === 'metrics' && metrics && _jsxDEV(View, {\n      style: styles.content,\n      children: [_jsxDEV(View, {\n        style: styles.statsGrid,\n        children: [_jsxDEV(StatCard, {\n          title: \"Pharmacy\",\n          value: metrics.pharmacy?.total_orders,\n          subtitle: \"Orders\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 13\n        }, this), _jsxDEV(StatCard, {\n          title: \"Transports\",\n          value: metrics.medicalTransports?.total_transports,\n          subtitle: \"Medical\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 11\n      }, this), _jsxDEV(View, {\n        style: styles.statsGrid,\n        children: [_jsxDEV(StatCard, {\n          title: \"Pickups\",\n          value: metrics.documentPickups?.total_pickups,\n          subtitle: \"Documents\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 13\n        }, this), _jsxDEV(StatCard, {\n          title: \"Bills\",\n          value: metrics.bills?.total_bills,\n          subtitle: \"Total\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 9\n    }, this), activeTab === 'users' && _jsxDEV(View, {\n      style: styles.content,\n      children: loading ? _jsxDEV(ActivityIndicator, {\n        size: \"large\",\n        color: \"#FF6B00\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 13\n      }, this) : _jsxDEV(FlatList, {\n        data: users,\n        keyExtractor: item => item.id.toString(),\n        renderItem: ({\n          item\n        }) => _jsxDEV(UserItem, {\n          item: item\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 41\n        }, this),\n        scrollEnabled: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 9\n    }, this), activeTab === 'tickets' && _jsxDEV(View, {\n      style: styles.content,\n      children: loading ? _jsxDEV(ActivityIndicator, {\n        size: \"large\",\n        color: \"#FF6B00\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 13\n      }, this) : _jsxDEV(FlatList, {\n        data: tickets,\n        keyExtractor: item => item.id.toString(),\n        renderItem: ({\n          item\n        }) => _jsxDEV(TicketItem, {\n          item: item\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 41\n        }, this),\n        scrollEnabled: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 9\n    }, this), activeTab === 'tracking' && _jsxDEV(View, {\n      style: styles.content,\n      children: [loading ? _jsxDEV(ActivityIndicator, {\n        size: \"large\",\n        color: \"#FF6B00\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 13\n      }, this) : MapView && activeOrders.length > 0 ? _jsxDEV(View, {\n        style: {\n          height: 400\n        },\n        children: _jsxDEV(MapView, {\n          style: {\n            flex: 1\n          },\n          initialRegion: {\n            latitude: parseFloat(activeOrders[0].rider_latitude || 45.4642),\n            longitude: parseFloat(activeOrders[0].rider_longitude || 9.19),\n            latitudeDelta: 0.05,\n            longitudeDelta: 0.05\n          },\n          children: activeOrders.map(o => o.rider_latitude ? _jsxDEV(MapMarker, {\n            coordinate: {\n              latitude: parseFloat(o.rider_latitude),\n              longitude: parseFloat(o.rider_longitude)\n            },\n            title: `Ordine #${o.id}`,\n            description: `${o.status} ‚Ä¢ ‚Ç¨${o.total_amount}`,\n            onPress: () => setSelectedOrderMarker(o)\n          }, o.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 23\n          }, this) : null)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 15\n      }, this) : _jsxDEV(FlatList, {\n        data: activeOrders,\n        keyExtractor: item => item.id.toString(),\n        renderItem: ({\n          item\n        }) => _jsxDEV(View, {\n          style: styles.orderItem,\n          children: [_jsxDEV(View, {\n            children: [_jsxDEV(Text, {\n              style: styles.orderCustomer,\n              children: [\"Ordine #\", item.id, \" \\u2022 \", item.status]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 23\n            }, this), _jsxDEV(Text, {\n              style: styles.orderStatus,\n              children: item.rider_name || `Rider #${item.rider_id || '--'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 23\n            }, this), _jsxDEV(Text, {\n              style: styles.orderStatus,\n              children: [\"Pos: \", item.rider_latitude ? `${parseFloat(item.rider_latitude).toFixed(4)}, ${parseFloat(item.rider_longitude).toFixed(4)}` : 'n/d']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 21\n          }, this), _jsxDEV(Text, {\n            style: styles.orderAmount,\n            children: [\"\\u20AC\", item.total_amount]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 19\n        }, this),\n        scrollEnabled: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 15\n      }, this), selectedOrderMarker && _jsxDEV(View, {\n        style: {\n          padding: 12,\n          backgroundColor: '#fff',\n          borderTopWidth: 1,\n          borderTopColor: '#eee'\n        },\n        children: [_jsxDEV(Text, {\n          style: {\n            fontWeight: '700'\n          },\n          children: [\"Ordine #\", selectedOrderMarker.id, \" \\u2022 \\u20AC\", selectedOrderMarker.total_amount]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 15\n        }, this), _jsxDEV(Text, {\n          children: [selectedOrderMarker.status, \" \\u2022 Rider: \", selectedOrderMarker.rider_name || '‚Äî']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 15\n        }, this), _jsxDEV(TouchableOpacity, {\n          style: {\n            marginTop: 8\n          },\n          onPress: () => setSelectedOrderMarker(null),\n          children: _jsxDEV(Text, {\n            style: {\n              color: '#FF6B00'\n            },\n            children: \"Chiudi\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 234,\n    columnNumber: 5\n  }, this);\n};\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f5f5f5'\n  },\n  centerContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  header: {\n    padding: 20,\n    backgroundColor: '#fff',\n    borderBottomWidth: 1,\n    borderBottomColor: '#eee'\n  },\n  headerTitle: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#333'\n  },\n  headerSubtitle: {\n    fontSize: 14,\n    color: '#999',\n    marginTop: 5\n  },\n  tabsScroll: {\n    backgroundColor: '#fff',\n    borderBottomWidth: 1,\n    borderBottomColor: '#eee'\n  },\n  tabButton: {\n    paddingVertical: 12,\n    paddingHorizontal: 15,\n    borderBottomWidth: 3,\n    borderBottomColor: 'transparent'\n  },\n  tabButtonActive: {\n    borderBottomColor: '#FF6B00'\n  },\n  tabButtonText: {\n    color: '#999',\n    fontSize: 12,\n    fontWeight: '600'\n  },\n  tabButtonTextActive: {\n    color: '#FF6B00'\n  },\n  content: {\n    padding: 15\n  },\n  statsGrid: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 15,\n    gap: 10\n  },\n  statCard: {\n    flex: 1,\n    backgroundColor: '#fff',\n    padding: 15,\n    borderRadius: 8,\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 1\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 2,\n    elevation: 2\n  },\n  statValue: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#FF6B00'\n  },\n  statLabel: {\n    fontSize: 12,\n    color: '#999',\n    marginTop: 5\n  },\n  statSubtitle: {\n    fontSize: 11,\n    color: '#bbb',\n    marginTop: 3\n  },\n  sectionTitle: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    color: '#333',\n    marginVertical: 12\n  },\n  orderItem: {\n    backgroundColor: '#fff',\n    padding: 12,\n    borderRadius: 6,\n    marginBottom: 8,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center'\n  },\n  orderCustomer: {\n    fontSize: 13,\n    fontWeight: '600',\n    color: '#333'\n  },\n  orderStatus: {\n    fontSize: 11,\n    color: '#999',\n    marginTop: 3\n  },\n  orderAmount: {\n    fontSize: 13,\n    fontWeight: 'bold',\n    color: '#FF6B00'\n  },\n  userItem: {\n    backgroundColor: '#fff',\n    padding: 12,\n    borderRadius: 6,\n    marginBottom: 8,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center'\n  },\n  userInfo: {\n    flex: 1\n  },\n  userName: {\n    fontSize: 13,\n    fontWeight: '600',\n    color: '#333'\n  },\n  userEmail: {\n    fontSize: 11,\n    color: '#999',\n    marginTop: 2\n  },\n  userRole: {\n    fontSize: 11,\n    color: '#FF6B00',\n    marginTop: 2,\n    fontWeight: '500'\n  },\n  deleteButton: {\n    backgroundColor: '#d32f2f',\n    paddingVertical: 6,\n    paddingHorizontal: 10,\n    borderRadius: 4\n  },\n  deleteButtonText: {\n    color: '#fff',\n    fontSize: 11,\n    fontWeight: '600'\n  },\n  ticketItem: {\n    backgroundColor: '#fff',\n    padding: 12,\n    borderRadius: 6,\n    marginBottom: 8,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center'\n  },\n  ticketTitle: {\n    fontSize: 13,\n    fontWeight: '600',\n    color: '#333'\n  },\n  ticketType: {\n    fontSize: 11,\n    color: '#999',\n    marginTop: 2\n  },\n  ticketDate: {\n    fontSize: 10,\n    color: '#bbb',\n    marginTop: 2\n  },\n  ticketStatus: {\n    paddingVertical: 4,\n    paddingHorizontal: 8,\n    borderRadius: 4,\n    marginLeft: 10\n  },\n  ticketStatusText: {\n    color: '#fff',\n    fontSize: 10,\n    fontWeight: '600'\n  },\n  paymentItem: {\n    backgroundColor: '#fff',\n    padding: 12,\n    borderRadius: 6,\n    marginBottom: 8,\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  paymentMethod: {\n    fontSize: 13,\n    fontWeight: '600',\n    color: '#333'\n  },\n  paymentAmount: {\n    fontSize: 13,\n    color: '#FF6B00',\n    fontWeight: 'bold'\n  }\n});\nexport default AdminDashboardScreen;","map":{"version":3,"names":["React","useEffect","useState","View","Text","StyleSheet","ScrollView","TouchableOpacity","FlatList","ActivityIndicator","Alert","axios","AsyncStorage","Platform","io","jsxDEV","_jsxDEV","MapView","MapMarker","OS","require","default","Marker","e","API_URL","AdminDashboardScreen","navigation","route","activeTab","setActiveTab","loading","setLoading","stats","setStats","finance","setFinance","metrics","setMetrics","users","setUsers","tickets","setTickets","userRole","setUserRole","token","setToken","initToken","tokenValue","params","getItem","loadAllData","activeOrders","setActiveOrders","selectedOrderMarker","setSelectedOrderMarker","socket","setSocket","loadActiveOrders","headers","Authorization","response","get","data","error","alert","s","replace","auth","transports","on","emit","prev","idx","findIndex","o","id","orderId","update","rider_latitude","latitude","rider_longitude","longitude","status","total_amount","rider_name","copy","Object","assign","disconnect","authToken","statsRes","financeRes","metricsRes","Promise","all","message","loadUsers","loadTickets","handleTabChange","tab","length","handleDeleteUser","userId","text","onPress","delete","style","styles","centerContainer","children","size","color","fileName","_jsxFileName","lineNumber","columnNumber","StatCard","title","value","subtitle","statCard","statValue","statLabel","statSubtitle","TabButton","label","icon","tabButton","tabButtonActive","tabButtonText","tabButtonTextActive","UserItem","item","userItem","userInfo","userName","name","userEmail","email","role","deleteButton","deleteButtonText","TicketItem","ticketItem","flex","ticketTitle","ticketType","type","priority","ticketDate","Date","created_at","toLocaleDateString","ticketStatus","backgroundColor","ticketStatusText","container","header","headerTitle","headerSubtitle","horizontal","showsHorizontalScrollIndicator","tabsScroll","content","statsGrid","totalUsers","totalOrders","totalRevenue","toFixed","sectionTitle","recentOrders","map","order","orderItem","orderCustomer","orderStatus","orderAmount","billPayments","total","amount","paymentMethods","pm","paymentItem","paymentMethod","payment_method","paymentAmount","count","pharmacy","total_orders","medicalTransports","total_transports","documentPickups","total_pickups","bills","total_bills","keyExtractor","toString","renderItem","scrollEnabled","height","initialRegion","parseFloat","latitudeDelta","longitudeDelta","coordinate","description","rider_id","padding","borderTopWidth","borderTopColor","fontWeight","marginTop","create","justifyContent","alignItems","borderBottomWidth","borderBottomColor","fontSize","paddingVertical","paddingHorizontal","flexDirection","marginBottom","gap","borderRadius","shadowColor","shadowOffset","width","shadowOpacity","shadowRadius","elevation","marginVertical","marginLeft"],"sources":["C:/Users/luca0/Desktop/delivero/mobile/screens/admin/AdminDashboardScreen.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport {\r\n  View,\r\n  Text,\r\n  StyleSheet,\r\n  ScrollView,\r\n  TouchableOpacity,\r\n  FlatList,\r\n  ActivityIndicator,\r\n  Alert\r\n} from 'react-native';\r\nimport axios from 'axios';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { Platform } from 'react-native';\r\nimport { io } from 'socket.io-client';\r\n\r\nlet MapView = null;\r\nlet MapMarker = null;\r\nif (Platform.OS !== 'web') {\r\n  try {\r\n    MapView = require('react-native-maps').default;\r\n    MapMarker = require('react-native-maps').Marker;\r\n  } catch (e) {\r\n    MapView = null;\r\n    MapMarker = null;\r\n  }\r\n}\r\n\r\nconst API_URL = 'http://192.168.1.5:5000/api';\r\n\r\nconst AdminDashboardScreen = ({ navigation, route }) => {\r\n  const [activeTab, setActiveTab] = useState('stats');\r\n  const [loading, setLoading] = useState(false);\r\n  const [stats, setStats] = useState(null);\r\n  const [finance, setFinance] = useState(null);\r\n  const [metrics, setMetrics] = useState(null);\r\n  const [users, setUsers] = useState([]);\r\n  const [tickets, setTickets] = useState([]);\r\n  const [userRole, setUserRole] = useState('');\r\n  const [token, setToken] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const initToken = async () => {\r\n      let tokenValue = route.params?.token;\r\n      if (!tokenValue) {\r\n        tokenValue = await AsyncStorage.getItem('token');\r\n      }\r\n      setToken(tokenValue);\r\n      if (tokenValue) {\r\n        loadAllData(tokenValue);\r\n      }\r\n    };\r\n    initToken();\r\n  }, []);\r\n\r\n  const [activeOrders, setActiveOrders] = useState([]);\r\n  const [selectedOrderMarker, setSelectedOrderMarker] = useState(null);\r\n  const [socket, setSocket] = useState(null);\r\n\r\n  const loadActiveOrders = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const headers = { Authorization: `Bearer ${token}` };\r\n      const response = await axios.get(`${API_URL}/orders/active/all`, { headers });\r\n      setActiveOrders(response.data || []);\r\n    } catch (error) {\r\n      Alert.alert('Error', 'Failed to load active orders');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Realtime socket connection for managers\r\n  useEffect(() => {\r\n    if (!token) return;\r\n    try {\r\n      const s = io(API_URL.replace('/api',''), { auth: { token }, transports: ['websocket'] });\r\n      setSocket(s);\r\n      s.on('connect', () => {\r\n        s.emit('joinManagerRoom');\r\n      });\r\n\r\n      s.on('activeOrderUpdate', (data) => {\r\n        // update or append the active order with new location/status\r\n        setActiveOrders(prev => {\r\n          const idx = prev.findIndex(o => o.id === data.orderId);\r\n          const update = {\r\n            id: data.orderId,\r\n            rider_latitude: data.latitude,\r\n            rider_longitude: data.longitude,\r\n            status: data.status || 'in_transit',\r\n            total_amount: data.total_amount || (prev[idx] && prev[idx].total_amount) || 0,\r\n            rider_name: data.rider_name || (prev[idx] && prev[idx].rider_name) || null\r\n          };\r\n          if (idx === -1) return [update, ...prev];\r\n          const copy = [...prev]; copy[idx] = { ...copy[idx], ...update }; return copy;\r\n        });\r\n      });\r\n\r\n      return () => {\r\n        s.disconnect();\r\n      };\r\n    } catch (e) {\r\n      // ignore socket failures on web or missing lib\r\n    }\r\n  }, [token]);\r\n\r\n  const loadAllData = async (authToken) => {\r\n    try {\r\n      setLoading(true);\r\n      const headers = { Authorization: `Bearer ${authToken}` };\r\n\r\n      const [statsRes, financeRes, metricsRes] = await Promise.all([\r\n        axios.get(`${API_URL}/admin/stats`, { headers }),\r\n        axios.get(`${API_URL}/admin/finance`, { headers }),\r\n        axios.get(`${API_URL}/admin/metrics`, { headers })\r\n      ]);\r\n\r\n      setStats(statsRes.data);\r\n      setFinance(financeRes.data);\r\n      setMetrics(metricsRes.data);\r\n    } catch (error) {\r\n      Alert.alert('Error', error.response?.data?.message || 'Failed to load data');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadUsers = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const headers = { Authorization: `Bearer ${token}` };\r\n      const response = await axios.get(`${API_URL}/admin/users`, { headers });\r\n      setUsers(response.data);\r\n    } catch (error) {\r\n      Alert.alert('Error', 'Failed to load users');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadTickets = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const headers = { Authorization: `Bearer ${token}` };\r\n      const response = await axios.get(`${API_URL}/tickets/admin`, { headers });\r\n      setTickets(response.data);\r\n    } catch (error) {\r\n      Alert.alert('Error', 'Failed to load tickets');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleTabChange = (tab) => {\r\n    setActiveTab(tab);\r\n    if (tab === 'users' && users.length === 0) loadUsers();\r\n    if (tab === 'tickets' && tickets.length === 0) loadTickets();\r\n  };\r\n\r\n  const handleDeleteUser = async (userId) => {\r\n    Alert.alert('Confirm', 'Are you sure?', [\r\n      { text: 'Cancel' },\r\n      {\r\n        text: 'Delete',\r\n        onPress: async () => {\r\n          try {\r\n            const headers = { Authorization: `Bearer ${token}` };\r\n            await axios.delete(`${API_URL}/admin/users/${userId}`, { headers });\r\n            Alert.alert('Success', 'User deleted');\r\n            loadUsers();\r\n          } catch (error) {\r\n            Alert.alert('Error', 'Failed to delete user');\r\n          }\r\n        }\r\n      }\r\n    ]);\r\n  };\r\n\r\n  if (loading && !stats) {\r\n    return (\r\n      <View style={styles.centerContainer}>\r\n        <ActivityIndicator size=\"large\" color=\"#FF6B00\" />\r\n      </View>\r\n    );\r\n  }\r\n\r\n  const StatCard = ({ title, value, subtitle }) => (\r\n    <View style={styles.statCard}>\r\n      <Text style={styles.statValue}>{value}</Text>\r\n      <Text style={styles.statLabel}>{title}</Text>\r\n      {subtitle && <Text style={styles.statSubtitle}>{subtitle}</Text>}\r\n    </View>\r\n  );\r\n\r\n  const TabButton = ({ tab, label, icon }) => (\r\n    <TouchableOpacity\r\n      style={[styles.tabButton, activeTab === tab && styles.tabButtonActive]}\r\n      onPress={() => handleTabChange(tab)}\r\n    >\r\n      <Text style={[styles.tabButtonText, activeTab === tab && styles.tabButtonTextActive]}>\r\n        {icon} {label}\r\n      </Text>\r\n    </TouchableOpacity>\r\n  );\r\n\r\n  const UserItem = ({ item }) => (\r\n    <View style={styles.userItem}>\r\n      <View style={styles.userInfo}>\r\n        <Text style={styles.userName}>{item.name}</Text>\r\n        <Text style={styles.userEmail}>{item.email}</Text>\r\n        <Text style={styles.userRole}>{item.role}</Text>\r\n      </View>\r\n      <TouchableOpacity style={styles.deleteButton} onPress={() => handleDeleteUser(item.id)}>\r\n        <Text style={styles.deleteButtonText}>Delete</Text>\r\n      </TouchableOpacity>\r\n    </View>\r\n  );\r\n\r\n  const TicketItem = ({ item }) => (\r\n    <View style={styles.ticketItem}>\r\n      <View style={{ flex: 1 }}>\r\n        <Text style={styles.ticketTitle}>{item.title}</Text>\r\n        <Text style={styles.ticketType}>{item.type} ‚Ä¢ {item.priority}</Text>\r\n        <Text style={styles.ticketDate}>{new Date(item.created_at).toLocaleDateString()}</Text>\r\n      </View>\r\n      <View style={[styles.ticketStatus, { backgroundColor: item.status === 'open' ? '#ff9800' : '#4caf50' }]}>\r\n        <Text style={styles.ticketStatusText}>{item.status}</Text>\r\n      </View>\r\n    </View>\r\n  );\r\n\r\n  return (\r\n    <ScrollView style={styles.container}>\r\n      {/* Header */}\r\n      <View style={styles.header}>\r\n        <Text style={styles.headerTitle}>‚öôÔ∏è Admin Panel</Text>\r\n        <Text style={styles.headerSubtitle}>System Management</Text>\r\n      </View>\r\n\r\n      {/* Tabs */}\r\n      <ScrollView horizontal showsHorizontalScrollIndicator={false} style={styles.tabsScroll}>\r\n        <TabButton tab=\"stats\" label=\"Stats\" icon=\"üìä\" />\r\n        <TabButton tab=\"finance\" label=\"Finance\" icon=\"üí∞\" />\r\n        <TabButton tab=\"metrics\" label=\"Metrics\" icon=\"üìà\" />\r\n        <TabButton tab=\"users\" label=\"Users\" icon=\"üë•\" />\r\n        <TabButton tab=\"tickets\" label=\"Tickets\" icon=\"üé´\" />\r\n        <TabButton tab=\"tracking\" label=\"Tracking\" icon=\"üó∫Ô∏è\" />\r\n      </ScrollView>\r\n\r\n      {/* Statistics Tab */}\r\n      {activeTab === 'stats' && stats && (\r\n        <View style={styles.content}>\r\n          <View style={styles.statsGrid}>\r\n            <StatCard title=\"Users\" value={stats.totalUsers} />\r\n            <StatCard title=\"Orders\" value={stats.totalOrders} />\r\n          </View>\r\n          <View style={styles.statsGrid}>\r\n            <StatCard title=\"Total Revenue\" value={`‚Ç¨${stats.totalRevenue?.toFixed(2)}`} />\r\n          </View>\r\n\r\n          <Text style={styles.sectionTitle}>Recent Orders</Text>\r\n          {stats.recentOrders?.map(order => (\r\n            <View key={order.id} style={styles.orderItem}>\r\n              <View>\r\n                <Text style={styles.orderCustomer}>{order.name}</Text>\r\n                <Text style={styles.orderStatus}>{order.status}</Text>\r\n              </View>\r\n              <Text style={styles.orderAmount}>‚Ç¨{order.total_amount}</Text>\r\n            </View>\r\n          ))}\r\n        </View>\r\n      )}\r\n\r\n      {/* Finance Tab */}\r\n      {activeTab === 'finance' && finance && (\r\n        <View style={styles.content}>\r\n          <View style={styles.statsGrid}>\r\n            <StatCard title=\"Revenue\" value={`‚Ç¨${finance.totalRevenue?.toFixed(2)}`} />\r\n            <StatCard title=\"Bill Payments\" value={finance.billPayments?.total} />\r\n          </View>\r\n          <View style={styles.statsGrid}>\r\n            <StatCard title=\"Bills Total\" value={`‚Ç¨${finance.billPayments?.amount?.toFixed(2)}`} />\r\n          </View>\r\n\r\n          <Text style={styles.sectionTitle}>Payment Methods</Text>\r\n          {finance.paymentMethods?.map((pm, idx) => (\r\n            <View key={idx} style={styles.paymentItem}>\r\n              <Text style={styles.paymentMethod}>{pm.payment_method}</Text>\r\n              <Text style={styles.paymentAmount}>‚Ç¨{pm.total?.toFixed(2)} ({pm.count})</Text>\r\n            </View>\r\n          ))}\r\n        </View>\r\n      )}\r\n\r\n      {/* Metrics Tab */}\r\n      {activeTab === 'metrics' && metrics && (\r\n        <View style={styles.content}>\r\n          <View style={styles.statsGrid}>\r\n            <StatCard title=\"Pharmacy\" value={metrics.pharmacy?.total_orders} subtitle=\"Orders\" />\r\n            <StatCard title=\"Transports\" value={metrics.medicalTransports?.total_transports} subtitle=\"Medical\" />\r\n          </View>\r\n          <View style={styles.statsGrid}>\r\n            <StatCard title=\"Pickups\" value={metrics.documentPickups?.total_pickups} subtitle=\"Documents\" />\r\n            <StatCard title=\"Bills\" value={metrics.bills?.total_bills} subtitle=\"Total\" />\r\n          </View>\r\n        </View>\r\n      )}\r\n\r\n      {/* Users Tab */}\r\n      {activeTab === 'users' && (\r\n        <View style={styles.content}>\r\n          {loading ? (\r\n            <ActivityIndicator size=\"large\" color=\"#FF6B00\" />\r\n          ) : (\r\n            <FlatList\r\n              data={users}\r\n              keyExtractor={item => item.id.toString()}\r\n              renderItem={({ item }) => <UserItem item={item} />}\r\n              scrollEnabled={false}\r\n            />\r\n          )}\r\n        </View>\r\n      )}\r\n\r\n      {/* Tickets Tab */}\r\n      {activeTab === 'tickets' && (\r\n        <View style={styles.content}>\r\n          {loading ? (\r\n            <ActivityIndicator size=\"large\" color=\"#FF6B00\" />\r\n          ) : (\r\n            <FlatList\r\n              data={tickets}\r\n              keyExtractor={item => item.id.toString()}\r\n              renderItem={({ item }) => <TicketItem item={item} />}\r\n              scrollEnabled={false}\r\n            />\r\n          )}\r\n        </View>\r\n      )}\r\n\r\n      {/* Tracking Tab */}\r\n      {activeTab === 'tracking' && (\r\n        <View style={styles.content}>\r\n          {loading ? (\r\n            <ActivityIndicator size=\"large\" color=\"#FF6B00\" />\r\n          ) : (\r\n            MapView && activeOrders.length > 0 ? (\r\n              <View style={{ height: 400 }}>\r\n                <MapView\r\n                  style={{ flex: 1 }}\r\n                  initialRegion={{\r\n                    latitude: parseFloat(activeOrders[0].rider_latitude || 45.4642),\r\n                    longitude: parseFloat(activeOrders[0].rider_longitude || 9.19),\r\n                    latitudeDelta: 0.05,\r\n                    longitudeDelta: 0.05,\r\n                  }}\r\n                >\r\n                    {activeOrders.map(o => o.rider_latitude ? (\r\n                      <MapMarker\r\n                        key={o.id}\r\n                        coordinate={{ latitude: parseFloat(o.rider_latitude), longitude: parseFloat(o.rider_longitude) }}\r\n                        title={`Ordine #${o.id}`}\r\n                        description={`${o.status} ‚Ä¢ ‚Ç¨${o.total_amount}`}\r\n                        onPress={() => setSelectedOrderMarker(o)}\r\n                      />\r\n                    ) : null)}\r\n                </MapView>\r\n              </View>\r\n            ) : (\r\n              <FlatList\r\n                data={activeOrders}\r\n                keyExtractor={item => item.id.toString()}\r\n                renderItem={({ item }) => (\r\n                  <View style={styles.orderItem}>\r\n                    <View>\r\n                      <Text style={styles.orderCustomer}>Ordine #{item.id} ‚Ä¢ {item.status}</Text>\r\n                      <Text style={styles.orderStatus}>{item.rider_name || `Rider #${item.rider_id || '--'}`}</Text>\r\n                      <Text style={styles.orderStatus}>Pos: {item.rider_latitude ? `${parseFloat(item.rider_latitude).toFixed(4)}, ${parseFloat(item.rider_longitude).toFixed(4)}` : 'n/d'}</Text>\r\n                    </View>\r\n                    <Text style={styles.orderAmount}>‚Ç¨{item.total_amount}</Text>\r\n                  </View>\r\n                )}\r\n                scrollEnabled={false}\r\n              />\r\n            )\r\n          )}\r\n          {selectedOrderMarker && (\r\n            <View style={{ padding: 12, backgroundColor: '#fff', borderTopWidth: 1, borderTopColor: '#eee' }}>\r\n              <Text style={{ fontWeight: '700' }}>Ordine #{selectedOrderMarker.id} ‚Ä¢ ‚Ç¨{selectedOrderMarker.total_amount}</Text>\r\n              <Text>{selectedOrderMarker.status} ‚Ä¢ Rider: {selectedOrderMarker.rider_name || '‚Äî'}</Text>\r\n              <TouchableOpacity style={{ marginTop: 8 }} onPress={() => setSelectedOrderMarker(null)}>\r\n                <Text style={{ color: '#FF6B00' }}>Chiudi</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          )}\r\n        </View>\r\n      )}\r\n    </ScrollView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#f5f5f5'\r\n  },\r\n  centerContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center'\r\n  },\r\n  header: {\r\n    padding: 20,\r\n    backgroundColor: '#fff',\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#eee'\r\n  },\r\n  headerTitle: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#333'\r\n  },\r\n  headerSubtitle: {\r\n    fontSize: 14,\r\n    color: '#999',\r\n    marginTop: 5\r\n  },\r\n  tabsScroll: {\r\n    backgroundColor: '#fff',\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#eee'\r\n  },\r\n  tabButton: {\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 15,\r\n    borderBottomWidth: 3,\r\n    borderBottomColor: 'transparent'\r\n  },\r\n  tabButtonActive: {\r\n    borderBottomColor: '#FF6B00'\r\n  },\r\n  tabButtonText: {\r\n    color: '#999',\r\n    fontSize: 12,\r\n    fontWeight: '600'\r\n  },\r\n  tabButtonTextActive: {\r\n    color: '#FF6B00'\r\n  },\r\n  content: {\r\n    padding: 15\r\n  },\r\n  statsGrid: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 15,\r\n    gap: 10\r\n  },\r\n  statCard: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    padding: 15,\r\n    borderRadius: 8,\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 1 },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 2,\r\n    elevation: 2\r\n  },\r\n  statValue: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: '#FF6B00'\r\n  },\r\n  statLabel: {\r\n    fontSize: 12,\r\n    color: '#999',\r\n    marginTop: 5\r\n  },\r\n  statSubtitle: {\r\n    fontSize: 11,\r\n    color: '#bbb',\r\n    marginTop: 3\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 14,\r\n    fontWeight: 'bold',\r\n    color: '#333',\r\n    marginVertical: 12\r\n  },\r\n  orderItem: {\r\n    backgroundColor: '#fff',\r\n    padding: 12,\r\n    borderRadius: 6,\r\n    marginBottom: 8,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center'\r\n  },\r\n  orderCustomer: {\r\n    fontSize: 13,\r\n    fontWeight: '600',\r\n    color: '#333'\r\n  },\r\n  orderStatus: {\r\n    fontSize: 11,\r\n    color: '#999',\r\n    marginTop: 3\r\n  },\r\n  orderAmount: {\r\n    fontSize: 13,\r\n    fontWeight: 'bold',\r\n    color: '#FF6B00'\r\n  },\r\n  userItem: {\r\n    backgroundColor: '#fff',\r\n    padding: 12,\r\n    borderRadius: 6,\r\n    marginBottom: 8,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center'\r\n  },\r\n  userInfo: {\r\n    flex: 1\r\n  },\r\n  userName: {\r\n    fontSize: 13,\r\n    fontWeight: '600',\r\n    color: '#333'\r\n  },\r\n  userEmail: {\r\n    fontSize: 11,\r\n    color: '#999',\r\n    marginTop: 2\r\n  },\r\n  userRole: {\r\n    fontSize: 11,\r\n    color: '#FF6B00',\r\n    marginTop: 2,\r\n    fontWeight: '500'\r\n  },\r\n  deleteButton: {\r\n    backgroundColor: '#d32f2f',\r\n    paddingVertical: 6,\r\n    paddingHorizontal: 10,\r\n    borderRadius: 4\r\n  },\r\n  deleteButtonText: {\r\n    color: '#fff',\r\n    fontSize: 11,\r\n    fontWeight: '600'\r\n  },\r\n  ticketItem: {\r\n    backgroundColor: '#fff',\r\n    padding: 12,\r\n    borderRadius: 6,\r\n    marginBottom: 8,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center'\r\n  },\r\n  ticketTitle: {\r\n    fontSize: 13,\r\n    fontWeight: '600',\r\n    color: '#333'\r\n  },\r\n  ticketType: {\r\n    fontSize: 11,\r\n    color: '#999',\r\n    marginTop: 2\r\n  },\r\n  ticketDate: {\r\n    fontSize: 10,\r\n    color: '#bbb',\r\n    marginTop: 2\r\n  },\r\n  ticketStatus: {\r\n    paddingVertical: 4,\r\n    paddingHorizontal: 8,\r\n    borderRadius: 4,\r\n    marginLeft: 10\r\n  },\r\n  ticketStatusText: {\r\n    color: '#fff',\r\n    fontSize: 10,\r\n    fontWeight: '600'\r\n  },\r\n  paymentItem: {\r\n    backgroundColor: '#fff',\r\n    padding: 12,\r\n    borderRadius: 6,\r\n    marginBottom: 8,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between'\r\n  },\r\n  paymentMethod: {\r\n    fontSize: 13,\r\n    fontWeight: '600',\r\n    color: '#333'\r\n  },\r\n  paymentAmount: {\r\n    fontSize: 13,\r\n    color: '#FF6B00',\r\n    fontWeight: 'bold'\r\n  }\r\n});\r\n\r\nexport default AdminDashboardScreen;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}